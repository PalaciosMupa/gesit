
<mat-toolbar>
  <button mat-icon-button *ngIf="sidenav.mode === 'over'" (click)="sidenav.toggle()">
    <mat-icon *ngIf="!sidenav.opened">
      menu
    </mat-icon>
    <mat-icon *ngIf="sidenav.opened">
      close
    </mat-icon>
  </button>
  <a
    [routerLink]="'/'"
    mat-icon-button
    class="example-icon"
    arial-label="Example icon-button with menu icon"
  >
    <mat-icon>print</mat-icon>
  </a>

    <span>Sistema de Impresoras Grupo ESIT</span>
      <span class="example-spacer"></span>

  <a *ngIf="!autenticado"
    [routerLink]="'/login'"  
    mat-icon-button
    class = "example-icon favorite-icon"
    aria-label = "Example icon-button with heart icon"
  >
    Iniciar sesión
  </a>

   <button mat-raised-button
        matTooltip="Cerrar Sesión"
        aria-label="Button that displays a tooltip when focused or hovered over"
   mat-icon-button *ngIf="autenticado" (click)="logout()">
   
 <mat-icon>exit_to_app</mat-icon>
  </button>

  </mat-toolbar>


<mat-sidenav-container>
<mat-sidenav #sidenav="matSidenav">

   <img src="../../../assets/img/banner/Grupo_ESIT2.png" width = "100" height = "70">
  <mat-divider> </mat-divider>
  <button mat-button class="menu-button" type="button" [routerLink]="['/home']">
    <mat-icon>home</mat-icon>  
    <span>Inicio</span>
  </button>

  <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/listCuen']">
   <mat-icon>face</mat-icon> 
    <span> Clientes</span>
  </button>

  <button *ngIf="authService.hasRole('ROLE_USER')" mat-button class="menu-button"type="button" [routerLink]="['/formato']">
    <mat-icon>folder_open</mat-icon> 
    <span> Formatos</span>
  </button>

  <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/formato']">
    <mat-icon>folder_open</mat-icon> 
    <span> Formatos</span>
  </button>

  <mat-divider> </mat-divider>

  <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/listInvent']">
    <mat-icon>money</mat-icon>  
    <span>Inventario</span>
  </button>

   <button *ngIf="authService.hasRole('ROLE_TECNICO')" mat-button class="menu-button"type="button" [routerLink]="['/listRepuesto']">
      <mat-icon>autorenew</mat-icon>
      <span>Repuestos</span>
    </button>

      <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/listRepuesto']">
      <mat-icon>autorenew</mat-icon>
      <span>Repuestos</span>
    </button>

  <button *ngIf="authService.hasRole('ROLE_TECNICO')" mat-button class="menu-button" type="button" [routerLink]="['/instructivo']">
    <mat-icon>school</mat-icon> 
    <span> Instructivo</span>
  </button>

   <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button" type="button" [routerLink]="['/instructivo']">
    <mat-icon>school</mat-icon> 
    <span> Instructivo</span>
  </button>



  <button *ngIf="authService.hasRole('ROLE_USER')" mat-button class="menu-button"type="button" [routerLink]="['/listticket']">
   <mat-icon>how_to_vote</mat-icon> 
    <span> Tickets</span>
  </button>

   <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/listticket']">
   <mat-icon>how_to_vote</mat-icon> 
    <span> Tickets</span>
  </button>

    <button *ngIf="authService.hasRole('ROLE_TECNICO')" mat-button class="menu-button"type="button" [routerLink]="['/ticket2']">
   <mat-icon>how_to_vote</mat-icon> 
    <span> Tickets</span>
  </button>




  <mat-divider> </mat-divider>


  <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/catalogos']">
   <mat-icon>settings</mat-icon> 
    <span> Catálogos</span>
  </button>

   <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/signup']">
   <mat-icon>how_to_reg</mat-icon> 
    <span> Registro</span>
  </button>

  <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-button class="menu-button"type="button" [routerLink]="['/listRol']">
   <mat-icon>account_box</mat-icon> 
    <span>Roles</span>
  </button>

</mat-sidenav>

<mat-sidenav-content>


<main class="col-md-9 col-lg-12 px-md-4">
      <div class="col-xl-12 col-lg-8 item-wr">

      	<div class = "bootstrap-wrapper">
  <div class = "container">
    <div class = "row" style = "margin-top : 20px;">
      <div class = "col-md-6 offset-md-3">
        <div class="container text-center">
          <img src="../../../assets/img/icon.png" width = "100" height = "100">
        </div>

        <h1 class="text-center">Registro de Usuarios</h1>


     <form usuarioForm="ngForm">
          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Nombre de usuario</mat-label>
            <div class="form-group">
            <input
            class="form-control formStore" 
            (change)="validate(username)"
            pattern="[A-Za-z0-9ñÑáéíóúÁÉÍÓÚ ]{1,}"
            [(ngModel)] = "usuarios.username" 
            name = "username"
            #username 
            matInput 
            placeholder="Digite su nombre de usuario"
            required 
             >
             <div class="valid-feedback">Valido.</div>
             <div class="invalid-feedback">Campo Invalido</div>
             </div>
            
          </mat-form-field>

          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Contraseña</mat-label>
            <div class="form-group">
            <input  
             matTooltip="El password debe contener al menos un carater especial *[()@$?¡!%&\-_, una mayúscula, una minúscula, un número y como mínimo 8 caracters"
            aria-label="Button that displays a tooltip when focused or hovered over" 
             class="form-control formStore" 
            (change)="validate(password)"
            pattern="(?=.*\d)(?=.*[()@$?¡!%&\-_])(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,20}"
            required 
            [(ngModel)] = "usuarios.password" 
            name = "password"
            #password 
            type = "password" 
            matInput placeholder="Digite su contraseña">
            <div class="valid-feedback">Valido.</div>
             <div class="invalid-feedback">Campo Invalido</div>
             </div>
          </mat-form-field>

          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Nombre</mat-label>
           <div class="form-group">
            <input 
           class="form-control formStore" 
            (change)="validate(nombre)"
            pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ ]{1,}" 
            [(ngModel)] = "usuarios.nombre" 
            name = "nombre"
            #nombre  
            matInput 
            required
            placeholder="Digite su nombre">
            </div>
          </mat-form-field>

          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Apellido</mat-label>
            <div class="form-group">
            <input 
           class="form-control formStore" 
            (change)="validate(apellido)"
            pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ ]{1,}" 
            [(ngModel)] = "usuarios.apellido" 
            name = "apellido"
            #apellido  
            matInput
            required 
            placeholder="Digite su apellido">
            </div>
          </mat-form-field>

          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Email</mat-label>
            <div class="form-group">
            <input 
           class="form-control formStore" 
            (change)="validate(email)"
            pattern="[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*" 
            [(ngModel)] = "usuarios.email" 
            name = "email" 
            #email 
            type="email" 
            matInput 
            required 
            placeholder="Digite su email">
             </div>
          </mat-form-field>

          <mat-form-field class="full-width"  appearance = "outline">
            <mat-label>Teléfono</mat-label>
           <div class="form-group">
            <input 
           class="form-control formStore" 
            (change)="validate(telefono)"
            pattern="[0-9]{10,}" 
            [(ngModel)] = "usuarios.telefono" 
            name = "telefono"
            #telefono 
            matInput
            required 
            placeholder="Digite su teléfono">
            </div>
          </mat-form-field>

        


            

          <div class = "container text-center">
           <button type="submit" (click)='createUsuario()' class="btn btn-info btn-fill pull-right btn-space">Registrar</button>
           

            <button type="reset" style = "margin-left: 20px;" mat-raised-button color="accent">Limpiar</button>
          </div>
        </form>

      
        <br><br><br>
      </div>
    </div>
  </div>
</div>

  

    </div>

  </main>

  </mat-sidenav-content>
</mat-sidenav-container>
